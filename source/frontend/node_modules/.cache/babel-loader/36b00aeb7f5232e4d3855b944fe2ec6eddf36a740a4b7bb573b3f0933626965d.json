{"ast":null,"code":"import { __awaiter as t, __generator as n, __assign as e } from \"tslib\";\nimport { Hub as r } from \"aws-amplify\";\nimport { appendToCognitoUserAgent as a } from \"@aws-amplify/auth\";\nimport { waitFor as o } from \"xstate/lib/waitFor.js\";\nimport { ALLOWED_SPECIAL_CHARACTERS as u } from \"./constants.mjs\";\nimport { getActorState as c } from \"./actor.mjs\";\nvar i = function (t) {\n    var n = t.packageName,\n      e = t.version;\n    a(\"\".concat(n, \"/\").concat(e));\n  },\n  s = function (t) {\n    for (var n = t.trim().split(\"\"), e = 0; e < n.length; e++) e > 0 && e < n.length - 1 && (n[e] = \"*\");\n    return n.join(\"\");\n  },\n  f = function (t) {\n    if (t.length < 4) return t;\n    for (var n = t.split(\"\"), e = 0; e < n.length - 4; e++) n[e] = \"*\";\n    return n.join(\"\");\n  },\n  l = function (e) {\n    return t(void 0, void 0, void 0, function () {\n      return n(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return t.trys.push([0, 2,, 3]), [4, o(e, function (t) {\n              return c(t).matches(\"autoSignIn\");\n            })];\n          case 1:\n          case 2:\n            return t.sent(), [3, 3];\n          case 3:\n            return [2];\n        }\n      });\n    });\n  },\n  h = function (e, r) {\n    return t(void 0, void 0, void 0, function () {\n      var t, a, o;\n      return n(this, function (n) {\n        switch (n.label) {\n          case 0:\n            switch (t = r.send, a = r.getSnapshot(), e.payload.event) {\n              case \"tokenRefresh\":\n                return [3, 1];\n              case \"autoSignIn\":\n                return [3, 2];\n              case \"autoSignIn_failure\":\n                return [3, 5];\n              case \"signOut\":\n              case \"tokenRefresh_failure\":\n                return [3, 7];\n            }\n            return [3, 8];\n          case 1:\n            return a.matches(\"authenticated.idle\") && t(\"TOKEN_REFRESH\"), [3, 9];\n          case 2:\n            return a.matches(\"authenticated\") ? [3, 4] : [4, l(r)];\n          case 3:\n            n.sent(), (null == (o = c(r.getSnapshot())) ? void 0 : o.matches(\"autoSignIn\")) && t({\n              type: \"AUTO_SIGN_IN\",\n              data: e.payload.data\n            }), n.label = 4;\n          case 4:\n            return [3, 9];\n          case 5:\n            return [4, l(r)];\n          case 6:\n            return n.sent(), (null == (o = c(r.getSnapshot())) ? void 0 : o.matches(\"autoSignIn\")) && t({\n              type: \"AUTO_SIGN_IN_FAILURE\",\n              data: e.payload.data\n            }), [3, 9];\n          case 7:\n            return a.matches(\"authenticated.idle\") && t(\"SIGN_OUT\"), [3, 9];\n          case 8:\n            return [3, 9];\n          case 9:\n            return [2];\n        }\n      });\n    });\n  },\n  d = function (t, n) {\n    return void 0 === n && (n = h), r.listen(\"auth\", function (t, n) {\n      return function (e) {\n        n(e, t);\n      };\n    }(t, n), \"authenticator-hub-handler\");\n  },\n  m = function (t) {\n    return u.some(function (n) {\n      return t.includes(n);\n    });\n  },\n  p = function (t, n, e) {\n    return encodeURI(\"otpauth://totp/\".concat(t, \":\").concat(n, \"?secret=\").concat(e, \"&issuer=\").concat(t));\n  };\nfunction v(t) {\n  for (var n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];\n  return Object.entries(t).reduce(function (t, r) {\n    var a,\n      o = r[0],\n      u = r[1];\n    return e(e({}, t), ((a = {})[o] = n.includes(o) ? u : null == u ? void 0 : u.trim(), a));\n  }, {});\n}\nexport { s as censorAllButFirstAndLast, f as censorPhoneNumber, i as configureComponent, h as defaultAuthHubHandler, p as getTotpCodeURL, m as hasSpecialChars, d as listenToAuthHub, v as trimValues };","map":{"version":3,"names":["__awaiter","t","__generator","n","__assign","e","Hub","r","appendToCognitoUserAgent","a","waitFor","o","ALLOWED_SPECIAL_CHARACTERS","u","getActorState","c","i","packageName","version","concat","s","trim","split","length","join","f","l","label","trys","push","matches","sent","h","send","getSnapshot","payload","event","type","data","d","listen","m","some","includes","p","encodeURI","v","arguments","Object","entries","reduce","censorAllButFirstAndLast","censorPhoneNumber","configureComponent","defaultAuthHubHandler","getTotpCodeURL","hasSpecialChars","listenToAuthHub","trimValues"],"sources":["/Workshop/product-metadata/guidance-for-generating-product-descriptions-with-bedrock/source/frontend/node_modules/@aws-amplify/ui/dist/esm/helpers/authenticator/utils.mjs"],"sourcesContent":["import{__awaiter as t,__generator as n,__assign as e}from\"tslib\";import{Hub as r}from\"aws-amplify\";import{appendToCognitoUserAgent as a}from\"@aws-amplify/auth\";import{waitFor as o}from\"xstate/lib/waitFor.js\";import{ALLOWED_SPECIAL_CHARACTERS as u}from\"./constants.mjs\";import{getActorState as c}from\"./actor.mjs\";var i=function(t){var n=t.packageName,e=t.version;a(\"\".concat(n,\"/\").concat(e))},s=function(t){for(var n=t.trim().split(\"\"),e=0;e<n.length;e++)e>0&&e<n.length-1&&(n[e]=\"*\");return n.join(\"\")},f=function(t){if(t.length<4)return t;for(var n=t.split(\"\"),e=0;e<n.length-4;e++)n[e]=\"*\";return n.join(\"\")},l=function(e){return t(void 0,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,o(e,(function(t){return c(t).matches(\"autoSignIn\")}))];case 1:case 2:return t.sent(),[3,3];case 3:return[2]}}))}))},h=function(e,r){return t(void 0,void 0,void 0,(function(){var t,a,o;return n(this,(function(n){switch(n.label){case 0:switch(t=r.send,a=r.getSnapshot(),e.payload.event){case\"tokenRefresh\":return[3,1];case\"autoSignIn\":return[3,2];case\"autoSignIn_failure\":return[3,5];case\"signOut\":case\"tokenRefresh_failure\":return[3,7]}return[3,8];case 1:return a.matches(\"authenticated.idle\")&&t(\"TOKEN_REFRESH\"),[3,9];case 2:return a.matches(\"authenticated\")?[3,4]:[4,l(r)];case 3:n.sent(),(null==(o=c(r.getSnapshot()))?void 0:o.matches(\"autoSignIn\"))&&t({type:\"AUTO_SIGN_IN\",data:e.payload.data}),n.label=4;case 4:return[3,9];case 5:return[4,l(r)];case 6:return n.sent(),(null==(o=c(r.getSnapshot()))?void 0:o.matches(\"autoSignIn\"))&&t({type:\"AUTO_SIGN_IN_FAILURE\",data:e.payload.data}),[3,9];case 7:return a.matches(\"authenticated.idle\")&&t(\"SIGN_OUT\"),[3,9];case 8:return[3,9];case 9:return[2]}}))}))},d=function(t,n){return void 0===n&&(n=h),r.listen(\"auth\",function(t,n){return function(e){n(e,t)}}(t,n),\"authenticator-hub-handler\")},m=function(t){return u.some((function(n){return t.includes(n)}))},p=function(t,n,e){return encodeURI(\"otpauth://totp/\".concat(t,\":\").concat(n,\"?secret=\").concat(e,\"&issuer=\").concat(t))};function v(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return Object.entries(t).reduce((function(t,r){var a,o=r[0],u=r[1];return e(e({},t),((a={})[o]=n.includes(o)?u:null==u?void 0:u.trim(),a))}),{})}export{s as censorAllButFirstAndLast,f as censorPhoneNumber,i as configureComponent,h as defaultAuthHubHandler,p as getTotpCodeURL,m as hasSpecialChars,d as listenToAuthHub,v as trimValues};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}