import*as e from"react";import{configureComponent as s}from"@aws-amplify/ui";import{AuthenticatorProvider as t,useAuthenticator as o,useAuthenticatorInitMachine as r}from"@aws-amplify/ui-react-core";import{CustomComponentsContext as i}from"./hooks/useCustomComponents/index.mjs";import"../../primitives/View/View.mjs";import{Router as m}from"./Router/Router.mjs";import{SetupTOTP as n}from"./SetupTOTP/SetupTOTP.mjs";import{SignIn as a}from"./SignIn/SignIn.mjs";import{SignUp as p}from"./SignUp/SignUp.mjs";import{ForceNewPassword as u}from"./ForceNewPassword/ForceNewPassword.mjs";import"./ResetPassword/ConfirmResetPassword.mjs";import{ResetPassword as c}from"./ResetPassword/ResetPassword.mjs";import{defaultComponents as l}from"./hooks/useCustomComponents/defaultComponents.mjs";import{VERSION as f}from"../../version.mjs";function g({children:s,className:t,components:n,formFields:a,hideSignUp:p,initialState:u,loginMechanisms:c,signUpAttributes:f,services:g,socialProviders:d,variation:w}){const{route:P,signOut:j,user:S}=o((({route:e,signOut:s,user:t})=>[e,s,t]));r({initialState:u,loginMechanisms:c,services:g,signUpAttributes:f,socialProviders:d,formFields:a});const v=e.useMemo((()=>({components:Object.assign(Object.assign({},l),n)})),[n]);return"authenticated"===P||"signOut"===P?s?e.createElement(e.Fragment,null,"function"==typeof s?s({signOut:j,user:S}):s):null:e.createElement(i.Provider,{value:v},e.createElement(m,{className:t,hideSignUp:p,variation:w}))}function d(o){return e.useEffect((()=>{s({packageName:"@aws-amplify/ui-react",version:f})}),[]),e.createElement(t,null,e.createElement(g,Object.assign({},o)))}d.Provider=t,d.ResetPassword=c,d.SetupTOTP=n,d.SignIn=a,d.SignUp=p,d.ForceNewPassword=u;export{d as Authenticator,g as AuthenticatorInternal};
